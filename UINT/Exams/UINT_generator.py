# -*- coding: utf-8 -*-"""Created on Fri Jan 10 10:05:36 2014@author: Yuri"""from Tkinter import *import tkMessageBoximport randomquestion = ""a_choice = ""b_choice = ""c_choice = ""d_choice = ""question_count = 0answers_count = 0right_answer = 0registry = []soubor = open('uint.txt','r')text = [line.decode('utf-8').strip() for line in soubor.readlines()]def new_test():    global right_answer, question_count, answers_count, right_answer, registry    generator()    question_count = 0    answers_count = 0    right_answer = 0    registry = []    refresh()    def generator():    global question,a_choice, b_choice, c_choice,d_choice, right_answer, registry    num = random.randint(0,173)    for i in registry:        if i == num:           num = random.randint(0,173)           break    registry.append(num)    question = text[num * 5]    a_choice = text[num * 5 + 1]    b_choice = text[num * 5 + 2]    c_choice = text[num * 5 + 3]    d_choice = text[num * 5 + 4]def refresh():    global text0, question, a_choice, b_choice, c_choice,d_choice, right_answer, answer_count, question_count    if question_count >= 30:        counter.config(text=u"Konec\nSprávné odpovědi: %i/30" %(answers_count))        butt1.config(state = DISABLED)        butt2.config(state = DISABLED)        butt3.config(state = DISABLED)        butt4.config(state = DISABLED)        else:        question_count += 1        if a_choice[0] == "1":            right_answer = 1        if b_choice[0] == "1":            right_answer = 2        if c_choice[0] == "1":            right_answer = 3        if d_choice[0] == "1":            right_answer = 4                text0.config(text = u"%s" %question)        butt1.config(text = u"%s" %a_choice[4:], state = NORMAL)        butt2.config(text = u"%s" %b_choice[4:], state = NORMAL)        butt3.config(text = u"%s" %c_choice[4:], state = NORMAL)        butt4.config(text = u"%s" %d_choice[4:], state = NORMAL)        counter.config(text=u" Otázka %i /30\nSprávné odpovědi: %i" %(question_count, answers_count))        generator()        def wrong_answer():    global right_answer, state, answers_count    answers_count -= 2    if right_answer == 1:        butt2.config(state = DISABLED)        butt3.config(state = DISABLED)        butt4.config(state = DISABLED)    if right_answer == 2:        butt1.config(state = DISABLED)        butt3.config(state = DISABLED)        butt4.config(state = DISABLED)            if right_answer == 3:        butt2.config(state = DISABLED)        butt1.config(state = DISABLED)        butt4.config(state = DISABLED)            if right_answer == 4:        butt2.config(state = DISABLED)        butt3.config(state = DISABLED)        butt1.config(state = DISABLED)    def answer1():    global right_answer, answers_count    answers_count += 1    if right_answer == 1:        refresh()    else:        wrong_answer()    def answer2():    global right_answer, answers_count    answers_count += 1    if right_answer == 2:        refresh()    else:        wrong_answer()    def answer3():    global right_answer, answers_count    answers_count += 1    if right_answer == 3:        refresh()    else:        wrong_answer()        def answer4():    global right_answer, answers_count    answers_count += 1    if right_answer == 4:        refresh()    else:        wrong_answer()    main = Tk()main.title(u"Generátor Testů")generator()frame = Frame(main, bd = 1, relief = "ridge")frame.grid(row = 0,sticky = W+E)counter = Label(frame, text = u" Otázka %i /20\nSprávné odpovědi: %i" %(question_count, answers_count))counter.pack(side = "top")frame0 = Frame(main, bd = 3, relief = "ridge")frame0.grid(row = 1,sticky = W+E)text0 = Label(frame0, text = u"%s" %question, font = "hevl80")text0.pack(side = "top")butt1 = Button(main, text = u"%s" %a_choice, command = answer1)butt1.grid(row = 2, sticky = W+E)butt2 = Button(main, text = u"%s" %b_choice, command = answer2)butt2.grid(row = 3, sticky = W+E)butt3 = Button(main, text = u"%s" %c_choice, command = answer3)butt3.grid(row = 4, sticky = W+E)butt4 = Button(main, text = u"%s" %d_choice, command = answer4)butt4.grid(row=5, sticky = W+E)listing = Menu(main)main.config(menu = listing)menu0=Menu(listing,tearoff=0)listing.add_cascade(label = "Nový test",command = new_test) refresh()soubor.close()mainloop()